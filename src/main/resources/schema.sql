CREATE TABLE IF NOT EXISTS User (
  userId    VARCHAR(50) PRIMARY KEY,
  password  VARCHAR(50) NOT NULL,
  name      VARCHAR(50) UNIQUE NOT NULL,
  email     VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS Article (
  id        BIGINT AUTO_INCREMENT PRIMARY KEY,
  title     VARCHAR(50) NOT NULL,
  writer    VARCHAR(50) NOT NULL,
  contents  TEXT NOT NULL,
  createdAt TIMESTAMP NOT NULL,
  deleted   BOOLEAN NOT NULL DEFAULT FALSE,
  FOREIGN KEY(writer) REFERENCES User(userId)
);

CREATE TABLE IF NOT EXISTS Reply (
  id        BIGINT AUTO_INCREMENT PRIMARY KEY,
  articleId BIGINT NOT NULL,
  userId    VARCHAR(50) NOT NULL,
  contents  TEXT NOT NULL,
  createdAt TIMESTAMP NOT NULL,
  deleted   BOOLEAN NOT NULL DEFAULT FALSE,
  FOREIGN KEY(articleId) REFERENCES Article(id),
  FOREIGN KEY(userId) REFERENCES User(userId)
);
