{{>layout/header}}
{{>layout/navbarHeader}}
<div class="container" id="main">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default content-main">
            <form name="question" method="post" action="/user" onsubmit="return validatePassword()">
                <input type="hidden" name="_method" value="put">
                <div class="form-group">
                    <label for="userId">사용자 아이디</label>
                    <input class="form-control" id="userId" name="userId" placeholder="User ID" readonly="true"
                           value="{{user.userId}}">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호 확인</label>
                    {{#error_password}}
                        <input type="password" class="form-control" id="password" name="password" placeholder="Password"
                               value="{{user.password}}">
                        <span id="password_err_box" style="color: royalblue;">비밀번호가 틀렸습니다...</span>
                    {{/error_password}}
                    {{^error_password}}
                        <input type="password" class="form-control" id="password" name="password"
                               placeholder="Password">
                    {{/error_password}}
                    <span id="password_err_box" class="err_box" style="color: royalblue;">현재 비밀번호를 입력해주세요.</span>
                </div>
                <div class="form-group">
                    <label for="name">이름</label>
                    <input class="form-control" id="userName" name="userName" placeholder="Name"
                           value="{{user.userName}}">
                    {{#error_duplicateName}}
                        <span id="name_err_box" style="color: royalblue;">중복되는 이름이 존재합니다...</span>
                    {{/error_duplicateName}}
                </div>
                <div class="form-group">
                    <label for="email">이메일</label>
                    <input type="email" class="form-control" id="email" name="email" placeholder="Email"
                           value="{{user.email}}">
                </div>
                <button type="submit" class="btn btn-success clearfix pull-right" id="submitBtn">수정완료</button>
                <div class="clearfix"/>
            </form>
        </div>
    </div>
</div>
<script>
    function validatePassword() {
        let password = document.getElementById("password").value;
        if(password.length == 0) {
            document.getElementById("password_err_box").classList.remove("err_box");
            return false;
        }
        document.getElementById("password_err_box").classList.add("err_box");
        return true;
    }

</script>
{{>layout/footer}}
