<!DOCTYPE html>
<html lang="kr">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="/css/reset.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="https://github.com/aFarkas/html5shiv/blob/master/dist/html5shiv.min.js"></script>
    <![endif]-->
    <link href="/css/login/login.css" rel="stylesheet">
    <link href="/css/popup.css" rel="stylesheet">
</head>
<body>
<div class="background">
    <nav th:replace="layout/nav.html"></nav>

    <div class="container" id="main">
        <header class="post-header">
            <p class="title">로그인</p>
        </header>
        <form name="question" class="info-container" method="post" action="/login-try">
            <div class="form-group">
                <label for="userId">아이디</label>
                <input class="form-control" id="userId" name="userId" placeholder="아이디를 입력하세요">
            </div>
            <div class="form-group">
                <label for="password">비밀번호</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="비밀번호를 입력하세요">
            </div>
            <button type="submit" class="btn btn-success clearfix pull-right">로그인</button>
        </form>
        <ul class="find_wrap" id="find_wrap">
            <li><a href="/user/find-id" class="find_text">아이디 찾기</a></li>
            <li><a href="/user/find-password" class="find_text">비밀번호 찾기</a></li>
            <li><a href="/user/new" class="find_text">회원가입</a></li>
        </ul>
    </div>
    <!-- 회원 정보 틀릴 시 레이어 팝업창 -->
    <div id="popup" th:if="${loginFailed}">
        <h2>아이디 또는 비밀번호가 일치하지 않습니다.</h2>
        <button id="close-btn">닫기</button>
    </div>

    <!-- JavaScript 코드 -->
    <script type="text/javascript">
        // 로그인 실패 시 레이어 팝업창 표시
        let loginFailed = [[${loginFailed}]];
        if (loginFailed) {
            document.getElementById('popup').style.display = 'block';
        }

        // 팝업창 닫기 버튼
        document.getElementById('close-btn').addEventListener('click', function () {
            document.getElementById('popup').style.display = 'none';
        });
    </script>

</div>
</body>
</html>
